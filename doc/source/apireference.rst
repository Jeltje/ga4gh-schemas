.. _apireference:

****************
API Reference
****************


This API reference is organized by resource type as described in the Introduction. 
Each resource type has one or more data representations. 

--------------
Resource types
--------------

.. todo::
        Make links inside this list to descriptions lower on the page

* reads
* variants
* references
* metadata
* common
* readmethods
* variantmethods
* referencemethods


.. todo::
        Add descriptions for all schemas

++++++++++
Variants
++++++++++

A variant represents a change in DNA sequence relative to a reference sequence. 
For example, a variant could represent a SNP or an insertion. Variants belong to a variant set. 
Each of the calls on a variant represent a determination of genotype with respect to that variant. 
For example, a call might assign probability of 0.32 to the occurrence of a SNP named rs1234 in a sample named NA12345.
A call belongs to a call set, which contains related calls typically from one sample. 


.. todo::
    The schema and table below should be autogenerated from the code instead of copied by hand :-)


Schema definition::

  record Variant {
    string id;
    string variantSetId;
    array<string> names = [];
    union { null, long } created = null;
    union { null, long } updated = null;
    string referenceName;
    long start;
    long end;
    string referenceBases;
    array<string> alternateBases = [];
    map<array<string>> info = {};
    array<Call> calls = [];
  }


============== ======= ===========
Variable       Type    Description
============== ======= ===========
id             string  | The variant ID
variantSetId   string  | The ID of the variant set this variant belongs to
names          list    | Names for the variant, for example a RefSNP ID
created        integer | The date this variant was created in milliseconds from 
                       | the epoch
updated        integer | The time at which this variant was last updated in 
                       | milliseconds from the epoch
referenceName  string  | The reference on which this variant occurs (e.g. chr20 or X)
start          integer | The start position at which this variant occurs (0-based)
                       | This corresponds to the first base of the string of 
                       | reference bases. Genomic positions are non-negative 
                       | integers less than reference length. Variants spanning 
                       | the join of circular genomes are represented as two 
                       | variants one on each side of the join (position 0).
end            integer | The end position (exclusive), resulting in [start, end) 
                       | closed-open interval. This is typically calculated by 
                       | start + referenceBases.length
referenceBases string  | The reference bases for this variant
alternateBases list    | The bases that appear instead of the reference bases
info           map     | Additional variant information
calls          list    | The variant calls for this particular variant
============== ======= ===========
